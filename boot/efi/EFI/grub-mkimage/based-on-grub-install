
 
sudo grub-mkimage -p '(,gpt3)/grubconfig.git/boot/grub' -o grub-mkimage-x86_64.efi -O 'x86_64-efi' ext2 part_gpt
sudo efibootmgr -c -d /dev/sda -p 2 -L "grub-mkimage-x86_64 hd" -l /EFI/grub-mkimage/grub-mkimage-x86_64.efi




相关说明：
=================================
1341  sudo grub-install --efi-directory=/mnt/sda2 --boot-directory=/mnt/sda3/grubconfig.git/boot/ --bootloader-id=ubuntu-uefi -v &> log

搜索log中的相关命令，得到下面的方法：

$ grep -E 'info:.*(efibootmgr|grub-mkimage)' log
grub-install: info: grub-mkimage --directory '/usr/local/lib/grub/x86_64-efi' --prefix '(,gpt3)/grubconfig.git/boot/grub' --output '/mnt/sda3/grubconfig.git/boot/grub/x86_64-efi/core.efi'  --dtb '' --format 'x86_64-efi' --compression 'auto'  'ext2' 'part_gpt' 
grub-install: info: grub-mkimage --directory '/usr/local/lib/grub/x86_64-efi' --prefix '' --output '/mnt/sda3/grubconfig.git/boot/grub/x86_64-efi/grub.efi'  --dtb '' --format 'x86_64-efi' --compression 'auto'  'ext2' 'part_gpt' 
grub-install: info: executing efibootmgr --version </dev/null >/dev/null.
grub-install: info: executing efibootmgr -b 0002 -B.
grub-install: info: executing efibootmgr -c -d /dev/sda -p 2 -w -L ubuntu-uefi -l \EFI\ubuntu-uefi\grubx64.efi.



 1342  grub-mkimage -p '(,gpt3)/grubconfig.git/boot/grub' -o grub-mkimage-x86_64.efi -O 'x86_64-efi' ext2 part_gpt
 1343  ls
 1344  sudo cp myteset.efi /mnt/sda2/EFI/
 1345  sudo efibootmgr -c -d /dev/sda -p 2 -L fdsafdsfa -l \EFI\mytest.efi (这个写法不行)
 
